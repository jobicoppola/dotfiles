#!/bin/bash

vrc=~/.vimrc
tcf=~/.tmux.conf

disable_colorscheme() {
    sed -i 's/^color/" colorscheme auto-disabled on linux\n" color/' $vrc
}

linux_colorscheme() {
    sed -i 's/molokai_macbot/molokai_jobot /' $vrc
}

# can disable vim colorscheme if so desired
[[ "$1" == --disable-color-scheme ]] && disable_colorscheme || linux_colorscheme

# update tmux settings to comment out mac-specific lines
sed -i 's/^set-option/# auto-disabled on linux\n# set-option/' $tcf
sed -i "$(grep -nA1 mac $tcf |sed '1d' |awk -F- '{print $1}')"d $tcf
sed -i "$(grep -nA1 '^# linux' $tcf |sed '1d' |awk -F- '{print $1}')s/# set/set/" $tcf
